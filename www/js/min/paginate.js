"use strict";!function(){var t=/Page \d+/g,e=location.pathname.replace(/\/\d+$/,"")+"/",a=$(".pagination"),i=parseInt(a.first().children("li").children("strong").text(),10),n=parseInt(a.first().children(":not(.spec)").last().text(),10),o="Navigation",r=$.mk("form").attr("id","goto-page").html('<label>\n\t\t\t\t<span>Enter page number</span>\n\t\t\t\t<input type="number" min="1" max="'+n+'" step="1">\n\t\t\t</label>').on("submit",function(t){t.preventDefault();var a=parseInt($(this).find("input:visible").val(),10);isNaN(a)&&(a=1),$.toPage(e+Math.max(1,a))});$d.off("paginate-refresh").on("paginate-refresh",function(){e=location.pathname.replace(/\/\d+$/,"")+"/",a=$(".pagination"),i=parseInt(a.first().children("li").children("strong").text(),10),o="Navigation",a.off("click").on("click","a",function(t){if(t.preventDefault(),t.stopPropagation(),$("#ctxmenu").hide(),void 0===$(this).attr("href"))return $.Dialog.request("Navigation",r.clone(!0,!0),"Go to page",function(t){t.find("input:visible").val(i).get(0).select()});$.toPage(this.pathname)}),$w.off("nav-popstate").on("nav-popstate",function(t,e,a){var i=e,n=[!1,!0,void 0,!0];void 0!==e.baseurl&&$.Navigation._lastLoadedPathname.replace(/\/\d+($|\?)/,"$1")!==e.baseurl?a(location.pathname+location.search+location.hash,function(){$.toPage.apply(i,n)}):$.toPage.apply(i,n)}),$.toPage=function(r,l,s,p,c){r||(r=location.pathname);var g=parseInt(r.replace(/^.*\/(\d+)(?:\?.*)?$/,"$1"),10),h=this.state||{};if(isNaN(g))return $.Dialog.fail(o,"Could not get page number to go to");if(!s&&(i===g||i===h.page))return!l&&$.Dialog.info(o,"You are already on page "+i);var u={js:!0},f=[],d=this.query,v="string"==typeof d;v?f=f.concat(d.split("&")):location.search.length>1&&(f=f.concat(location.search.substring(1).split("&"))),f.length&&($.each(f,function(t,e){e=e.replace(/\+/g," ").split("="),0!==e[1].length&&(u[decodeURIComponent(e[0])]=decodeURIComponent(e[1]))}),f=void 0),this.gofast?($.Dialog.wait(o,"Loading appearance page"),u.GOFAST=!0):$.Dialog.wait(o,"Loading page "+g),r+=location.hash,$.get(r,u,$.mkAjaxHandler(function(){if(!this.status)return $.Dialog.fail(o,this.message);if(u.GOFAST&&this.goto)return $.Navigation.visit(this.goto,function(){$.Dialog.close()});g=parseInt(this.page,10);var r=$navbar.find("li.active").children().last();t.test(r.text())&&r.html(function(){this.innerHTML.replace(t,"Page "+g)}),"function"==typeof c&&(document.title=c(g)),document.title=document.title.replace(t,"Page "+g),$navbar.find("li.active").children().last().html(function(){return this.innerHTML.replace(t,"Page "+g)});var l=this.request_uri||e+g+(location.search.length>1?location.search:""),s=[{paginate:!0,page:g,baseurl:this.request_uri.replace(/\/\d+($|\?)/,"$1")},"",l];v&&(s[0].query=d),"function"==typeof window.ga&&window.ga("send",{hitType:"pageview",page:l,title:document.title}),(!0===p||h.page!==g&&!isNaN(g)||v)&&(history.replaceState.apply(history,s),$.WS.navigate()),a.html(this.pagination),n=parseInt(a.first().children(":not(.spec)").last().text(),10);var f=jQuery.Event("page-switch");$(this.update).html(this.output).trigger(f),Time.Update(),i=g,f.isDefaultPrevented()||$.Dialog.close()}))}})}();
//# sourceMappingURL=/js/min/paginate.js.map
