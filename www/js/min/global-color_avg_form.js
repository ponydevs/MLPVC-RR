"use strict";window.$ColorAvgFormTemplate=function(t){return t.mk("form","color-avg-form").on("added",function(){var e=t(this).on("submit",function(e){e.preventDefault(),t.Dialog.close()}),n=t.mk("td").attr("class","color-red"),a=t.mk("td").attr("class","color-green"),r=t.mk("td").attr("class","color-darkblue"),l=t.mk("td").attr("colspan","3"),o=t.mk("span").css({position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"block"}).html("&nbsp;"),s=t.mk("td").attr("rowspan","2").css({width:"25%",position:"relative"}).append(o),i=function(){var s=0,i=0,c=0,p=0;e.find(".input-group-3").each(function(){var e=t(this).children("[type=number]"),n=e.eq(0).val(),a=e.eq(1).val(),r=e.eq(2).val();if(n.length&&a.length&&r.length){var l={r:parseInt(n,10),g:parseInt(a,10),b:parseInt(r,10)};!isNaN(l.r)&&l.r>=0&&l.r<=255&&!isNaN(l.g)&&l.g>=0&&l.g<=255&&!isNaN(l.b)&&l.b>=0&&l.b<=255&&(s++,i+=parseInt(l.r,10),c+=parseInt(l.g,10),p+=parseInt(l.b,10))}else e.attr("required",n.length+a.length+r.length>0)}),s&&(i=Math.round(i/s),c=Math.round(c/s),p=Math.round(p/s)),n.text(i),a.text(c),r.text(p);var d=new t.RGBAColor(i,c,p).toString();o.css("background-color",d),l.text(d)},c=t("<input type='number' min='0' max='255' step='1' class='align-center'>"),p=t.mk("div").attr("class","input-group-3").append(c.clone().attr("placeholder","Red"),c.clone().attr("placeholder","Green"),c.clone().attr("placeholder","Blue"),t("<input type='text' pattern='^#?([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$' maxlength='7' placeholder='HEX' class='align-center color-ui' spellcheck='false'>").on("change blur",function(e){e.stopPropagation();var n=t(this);if(n.is(":valid")&&0!==n.val().trim().length){var a=n.siblings(),r=t.RGBAColor.parse(n.val().toUpperCase());n.val(r.toHex()),a.eq(0).val(r.red),a.eq(1).val(r.green),a.eq(2).val(r.blue).triggerHandler("change")}})),d=t.mk("div").attr("class","inputs"),u=function(){d.empty();for(var t=0;t<10;t++)d.append(p.clone(!0,!0));i()};p.children().on("paste",function(){var e=t(this);setTimeout(function(){if(e.is(":valid")){e.val(e.val().trim()).triggerHandler("change");var t=e.index()<2?e.next():e.parent().next().children().first();t.length&&t.focus()}},1)}).on("change keyup blur",i),e.append(d,t.mk("div").attr("class","btn-group").append(t.mk("button").attr("class","green typcn typcn-plus").text("Add row").on("click",function(t){t.preventDefault(),d.append(p.clone(!0,!0))}),t.mk("button").attr("class","orange typcn typcn-times").text("Reset form").on("click",function(t){t.preventDefault(),u()})),t.mk("table").attr({class:"align-center",style:'display:table;width:100%;font-family:"Source Code Pro","Consolas",monospace;font-size:1.3em;border-collapse:collapse'}).append(t.mk("tr").append(s,n,a,r),t.mk("tr").append(l)).find("td").css("border","1px solid black").end()),u()})}(jQuery);
//# sourceMappingURL=/js/min/global-color_avg_form.js.map
