{"version":3,"sources":["poly-editor.js"],"names":["_typeof","Symbol","iterator","obj","constructor","$","classStart","$doc","document","fn","polyEditor","options","image","Error","wrapwidth","wrapheight","movehandler","$imageElement","Image","attr","src","class","$svgElement","createElementNS","version","xmlns","$svgWrap","mk","append","$wrap","this","first","addClass","$mousepos","text","$imgtl","$imgc","$wrapc","$imgcExpected","topleft","imgoffset","scalefactor","framecenter","wrapcenterpos","TX","left","TY","top","FX","FY","NTX","NTY","imagepos","wrapoffset","wrappos","imagecenterpos","resized","height","width","offset","outerHeight","outerWidth","updatezoomlevel","$zoomperc","roundTo","zoomlevel","activeElement","blur","$zoomout","$zoomin","updatepositions","imgcenter","css","wrapcenter","zoomto","perc","size","data","newzoomlevel","rangeLimit","newsize","oldzoomlevel","scaleResize","scale","zoomed","$imageOverlay","add","contenteditable","on","e","isKey","Key","Enter","preventDefault","parseFloat","isNaN","select","html","trim","length","clearSelection","$zoomfit","wide","Math","floor","$actionTopLeft","stopPropagation","triggerHandler","$actionsBottomLeft","appendTo","$loader","resizehandler","throttle","innerWidth","innerHeight","$w","detach","fadeTo","initial","initialmouse","mouse","pageY","pageX","target","is","off","destroy","empty","removeClass","jQuery"],"mappings":"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","file":"../src/poly-editor.js","sourceRoot":"/js/src"}