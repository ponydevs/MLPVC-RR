function DocumentIsReady(){"use strict";$d.triggerHandler("paginate-refresh");var e=window.OAUTH_URL,t=localStorage.getItem("cookie_consent");$("#signin").off("click").on("click",function(){var n=$(this),a=function(t){t&&(localStorage.setItem("cookie_consent",1),n.attr("disabled",!0),$.Dialog.wait("Sign-in process","Redirecting you to DeviantArt"),window.location.href=e)};t?a(!0):$.Dialog.confirm("EU Cookie Policy Notice",'In compliance with the <a href="http://ec.europa.eu/ipg/basics/legal/cookies/index_en.htm">EU Cookie Policy</a> we must inform you that our website will store cookies on your device to remember your logged in status between browser sessions.<br><br>If you would like to avoid these completly harmless pieces of information required to use this website, click "Decline" and continue browsing as a guest.<br><br>This warning will not appear again if you accept our use of persistent cookies.',["Accept","Decline"],a)}),$("#signout").off("click").on("click",function(){var e="Sign out";$.Dialog.confirm(e,"Are you sure you want to sign out?",function(t){t&&($.Dialog.wait(e,"Signing out"),$.post("/signout",$.mkAjaxHandler(function(){if(this.status){var t=this.message;HandleNav(location.href,function(){$.Dialog.success(e,t),setTimeout(function(){$.Dialog.close()},1500)})}else $.Dialog.fail(e,this.message)})))})});try{if(/^https/.test(location.protocol))throw void 0;var n=sessionStorage.getItem("canhttps");(null===n||"true"===n)&&$.ajax({method:"POST",url:"https://"+location.host+"/ping",success:$.mkAjaxHandler(function(){this.status&&$sidebar.append($.mk("a").attr({"class":"btn green typcn typcn-lock-closed",href:location.href.replace(/^http:/,"https:")}).text("Switch to HTTPS")),sessionStorage.setItem("canhttps",n=this.status.toString())}),error:function(){sessionStorage.setItem("canhttps",n="false")}})}catch(a){}var o=window.DocReady.length;if(o)for(var i=0;o>i;i++)window.DocReady[i].call(window)}function OpenSidebarByDefault(){"use strict";return window.matchMedia("all and (min-width: 1200px)").matches}!function(e){"use strict";var t=function(){return document.createElement.apply(document,arguments)};window.mk=function(){return t.apply(window,arguments)},e.mk=function(){return e(document.createElement.apply(document,arguments))},e.urlToAbsolute=function(e){var n=t("a");return n.href=e,n.href},window.$w=e(window),window.$d=e(document),window.CommonElements=function(){window.$header=e("header"),window.$sbToggle=e(".sidebar-toggle"),window.$main=e("#main"),window.$content=e("#content"),window.$sidebar=e("#sidebar"),window.$footer=e("footer"),window.$body=e("body"),window.$head=e("head"),window.$navbar=$header.find("nav")},window.CommonElements(),window.Key={Enter:13,Space:32,LeftArrow:37,RightArrow:39,Tab:9,Comma:188},e.isKey=function(e,t){return t.keyCode===e},e.capitalize=function(e,t){return t?e.replace(/((?:^|\s)[a-z])/g,function(e){return e.toUpperCase()}):1===e.length?e.toUpperCase():e[0].toUpperCase()+e.substring(1)},"function"!=typeof Array.prototype.includes&&(Array.prototype.includes=function(e){return-1!==this.indexOf(e)}),e.pad=function(t,n,a,o){for("string"!=typeof t&&(t=""+t),"string"!=typeof n&&(n="0"),a="number"!=typeof a&&!isFinite(a)&&isNaN(a)?2:parseInt(a,10),"boolean"!=typeof o&&(o=!0);t.length<a;)t=o===e.pad.left?n+t:t+n;return t},e.pad.right=!(e.pad.left=!0),$w.on("ajaxerror",function(){var t="";if(arguments.length>1){var n=[].slice.call(arguments,1);if("abort"===n[1])return;t=" Details:<pre><code>"+n.slice(1).join("\n").replace(/</g,"&lt;")+"</code></pre>",t+=" Response body:";var a=/^(?:<br \/>\n)?(<pre class='xdebug-var-dump')/;t+=a.test(n[0].responseText)?'<div class="reset">'+n[0].responseText.replace(a,"$1")+"</div>":"<pre><code>"+n[0].responseText.replace(/</g,"&lt;")+"</code></pre>"}e.Dialog.fail(!1,"There was an error while processing your request."+t)}),e.mkAjaxHandler=function(e){return function(t){return"object"!=typeof t?(console.log(t),void $w.triggerHandler("ajaxerror")):void("function"==typeof e&&e.call(t))}},e.callCallback=function(t,n,a){return"object"==typeof n&&e.isArray(n)||(a=n,n=[]),"function"!=typeof t?a:t.apply(window,n)},e.fn.mkData=function(t){var n=e(this).serializeArray(),a={};return e.each(n,function(e,t){a[t.name]=t.value}),"object"==typeof t&&e.extend(a,t),a},e.getCSRFToken=function(){var e=document.cookie.match(/CSRF_TOKEN=([a-z\d]+)/i);if(e&&e.length)return e[1];throw new Error("Missing CSRF_TOKEN")},e.ajaxPrefilter(function(t,n){if("POST"===(n.type||t.type).toUpperCase()){var a=e.getCSRFToken();if("undefined"==typeof t.data&&(t.data=""),"string"==typeof t.data){var o=t.data.length>0?t.data.split("&"):[];o.push("CSRF_TOKEN="+a),t.data=o.join("&")}else t.data.CSRF_TOKEN=a}}),e.ajaxSetup({dataType:"json",error:function(e){-1===[404,500,503].indexOf(e.status)&&$w.triggerHandler("ajaxerror",[].slice.call(arguments)),$body.removeClass("loading")},statusCode:{401:function(){e.Dialog.fail(void 0,"Cross-site Request Forgery attack detected. Please notify the site administartors."),$body.removeClass("loading")},404:function(){e.Dialog.fail(void 0,"Error 404: The requested endpoint could not be found"),$body.removeClass("loading")},500:function(){e.Dialog.fail(!1,'The request failed due to an internal server error. If this persists, please <a href="#feedback" class="send-feedback">let us know</a>!'),$body.removeClass("loading")},503:function(){e.Dialog.fail(!1,'The request failed because the server is temporarily unavailable. This whouldn\'t take too long, please try again in a few seconds.<br>If the problem still persist after a few minutes, please let us know by clicking the "Send feedback" link in the footer.'),$body.removeClass("loading")}}}),e.copy=function(t){if(!document.queryCommandSupported("copy"))return prompt("Copy with Ctrl+C, close with Enter",t),!0;var n=e.mk("textarea"),a=!1;n.css({opacity:0,width:0,height:0,position:"fixed",left:"-10px",top:"50%",display:"block"}).text(t).appendTo("body").focus(),n.get(0).select();try{a=document.execCommand("copy")}catch(o){}a||e.Dialog.fail("Copy to clipboard","Copying text to clipboard failed!"),setTimeout(function(){n.remove()},1)},e.hex2rgb=function(e){return{r:parseInt(e.substring(1,3),16),g:parseInt(e.substring(3,5),16),b:parseInt(e.substring(5,7),16)}},e.rgb2hex=function(e){return"#"+(16777216+(parseInt(e.r,10)<<16)+(parseInt(e.g,10)<<8)+parseInt(e.b,10)).toString(16).toUpperCase().substring(1)},"function"!=typeof e.expr[":"].valid&&e.extend(e.expr[":"],{valid:function(e){return e.validity.valid}}),e.roundTo=function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n},e.rangeLimit=function(e,t){var n,a,o=2;switch(arguments.length-o){case 1:n=0,a=arguments[o];break;case 2:n=arguments[o],a=arguments[o+1];break;default:throw new Error("Invalid number of parameters for $.rangeLimit")}return t&&(e>a?e=n:n>e&&(e=a)),Math.min(a,Math.max(n,e))};var n=/^#?([A-Fa-f0-9]{3})$/;window.SHORT_HEX_COLOR_PATTERN=n,e.hexpand=function(e){var t=e.trim().match(n);return t?(t=t[1],"#"+t[0]+t[0]+t[1]+t[1]+t[2]+t[2]):e},e.fn.toggleHtml=function(t){return this.html(t[e.rangeLimit(t.indexOf(this.html())+1,!0,t.length-1)]),this},e.fn.moveAttr=function(t,n){return this.each(function(){var a=e(this),o=a.attr(t);"undefined"!=typeof o&&a.removeAttr(t).attr(n,o)}),this},e.fn.backgroundImageUrl=function(t){return e(this).css("background-image",'url("'+t.replace(/"/g,"%22")+'")'),this},e.fn.patternAttr=function(t){return e(this).attr("pattern",t.toString().replace(/(^\/|\/[img]*$)/g,"")),this},e.scrollTo=function(t,n,a){e("html,body").animate({scrollTop:t},n,a)},window.URL=function(t){var n=document.createElement("a"),a={};return n.href=t,e.each(["hash","host","hostname","href","origin","pathname","port","protocol","search"],function(e,t){a[t]=n[t]}),a.pathString=a.pathname.replace(/^([^\/].*)$/,"/$1")+a.search+a.hash,a}}(jQuery);var DocReadyOnce=!1;$(function(){"use strict";function e(){var e,t,n="function"==typeof o.parent&&o.parent().length>0,a={};if(n&&(e=new Date,t=new Date(o.attr("datetime")),a=getTimeDiff(e,t)),!n||a.past)return n&&o.parents("li").remove(),clearInterval(i),window.setCD();var r="in ";a.time<one.month?(a.week>0&&(a.day+=7*a.week),a.day>0&&(r+=a.day+" day"+(1!==a.day?"s":"")+" & "),a.hour>0&&(r+=a.hour+":"),r+=$.pad(a.minute)+":"+$.pad(a.second)):r=createTimeStr(e,t),o.text(r)}function t(e){if(e.which>2)return!0;var t=this;return t.hostname!==location.hostname||!s.test(t.pathname)&&!/^\/@([A-Za-z\-\d]{1,20})$/.test(t.pathname)?!0:t.pathname===location.pathname&&t.search===location.search?!0:(0!==$(this).parents("#dialogContent").length&&$.Dialog.close(),e.preventDefault(),void n(this.href))}function n(e,t,n){if(a!==!1){try{a.abort()}catch(o){}a=!1}$body.addClass("loading");var i=$.ajax({url:e,data:{"via-js":!0},success:$.mkAjaxHandler(function(){if(a===i){if(!this.status)return $body.removeClass("loading"),a=!1,$.Dialog.fail("Navigation error",this.message);e=new URL(this.responseURL).pathString+new URL(e).hash,$w.triggerHandler("unload"),OpenSidebarByDefault()||$sbToggle.trigger("sb-close");var o=this.css,r=this.js,s=this.content,l=this.sidebar,d=this.footer,u=this.title,f=this.avatar;$main.empty();var p=!1,h=new URL(location.href),g=!n&&h.pathString===e;if($body.children("script[src], script[data-src]").each(function(){var e=$(this),t=e.attr("src")||e.attr("data-src");if(g)return/js\/dialog\./.test(t)||e.remove(),!0;var n=r.indexOf(t);if(-1===n||/js\/colorguide[\.\-]/.test(t)){if(-1!==t.indexOf("global"))return!(p=!0);e.remove()}else r.splice(n,1)}),p!==!1)return location.href=e,location.href;var m="link[href], style[href]";$head.children(m).each(function(){var e=$(this),t=e.attr("href"),n=o.indexOf(t);-1!==n?o.splice(n,1):e.attr("data-remove","true")}),console.clear(),function w(i){if(i>=o.length){$head.children(m.replace(/href/g,"data-remove=true")).remove(),$main.addClass("pls-wait").html(s),$sidebar.html(l),$footer.html(d),window.updateTimes(),window.setCD();var p=$header.find("nav").children();return p.children().first().children("img").attr("src",f),p.children(":not(:first-child)").remove(),p.append($sidebar.find("nav").children().children().clone()),window.CommonElements(),n||history[h.pathString===e?"replaceState":"pushState"]({"via-js":!0},"",e),document.title=(u?u+" - ":"")+c,window.HandleNav.lastLoadedPathname=window.location.pathname,window.DocReady=[],function v(e){if(e>=r.length)return DocumentIsReady(),$body.removeClass("loading"),$main.removeClass("pls-wait"),$.callCallback(t),void(a=!1);var n=r[e];a=$.ajax({url:n,dataType:"text",success:function(t){$body.append($.mk("script").attr("data-src",n).text(t.replace(/(\/\/#\s*sourceMappingURL=)(.*)/g,"$1/js/$2"))),v(e+1)}})}(0)}var g=o[i];a=$.ajax({url:g,dataType:"text",success:function(e){e=e.replace(/url\((['"])?\.\.\//g,"url($1/"),$head.append($.mk("style").attr("href",g).text(e)),w(i+1)}})}(0)}})});a=i}if(!DocReadyOnce){DocReadyOnce=!0;var a=!1;$sbToggle.off("click").on("click",function(e){e.preventDefault(),$sbToggle.trigger("sb-"+($body.hasClass("sidebar-open")?"close":"open"))}).on("sb-open sb-close",function(e){var t="close"===e.type.substring(3);$body[t?"removeClass":"addClass"]("sidebar-open"),localStorage[t?"setItem":"removeItem"]("sidebar-closed","true")}),"true"!==localStorage.getItem("sidebar-closed")&&OpenSidebarByDefault()&&$body.addClass("sidebar-open");var o,i,r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];window.setCD=function(){var t=$("#upcoming");if(t.length){var n=t.children("ul").children();if(!n.length)return t.remove();o=n.first().find("time").addClass("nodt"),i=setInterval(e,1e3),e(),t.find("li").each(function(){var e=$(this),t=e.children(".calendar"),n=new Date(e.find(".countdown").data("airs")||e.find("time").attr("datetime"));t.children(".top").text(r[n.getMonth()]),t.children(".bottom").text(n.getDate())}),window.updateTimes()}},window.setCD(),$w.on("unload",function(){o={length:0}}),$(document).on("click",".send-feedback",function(e){e.preventDefault(),e.stopPropagation(),$("#ctxmenu").hide(),$.Dialog.info("How to send feedback",$.mk("div").append("<p>If you're having an issue with the site and would like to let the developer know, here's how you can contact him:</p>",$.mk("ul").append("<li>Send a note to <a href='http://djdavid98.deviantart.com/'>DJDavid98</a> on DeviantArt</li>","<li>Send an e-mail to <a href='mailto:seinopsys@gmail.com'>seinopsys@gmail.com</a></li>","<li>Add <a href='skype:guzsik.david?add'>guzsik.david</a> on Skype</li>"),$.mk("p").attr("class","notice info").append("If you have a GitHub account, please ",$.mk("a").attr("href",$footer.find("a.issues").attr("href")).text("create an issue")," on the project's GitHub page instead of using the methods above.")).children(),"feedback-form")});var s=window.REWRITE_REGEX,c=window.SITE_TITLE;$d.off("click","a[href]",t).on("click","a[href]",t),$w.off("popstate").on("popstate",function(e){var t=e.originalEvent.state,a=function(e,t){n(e,t,!0)};return null===t||t["via-js"]||t.paginate!==!0?void a(location.href):$w.trigger("nav-popstate",[t,a])}),window.HandleNav=function(){n.apply(window,arguments)};var l=function(e,t){var a="number"==typeof t&&t>0?function(){setTimeout(e,t)}:e;n(location.pathname,a)};window.HandleNav.reload=function(){l.apply(window,arguments)},window.HandleNav.lastLoadedPathname=window.location.pathname,DocumentIsReady()}}),$w.on("load",function(){"use strict";$body.removeClass("loading")});
//# sourceMappingURL=global.min.js.map
