{"version":3,"sources":["jquery.ctxmenu.js"],"names":["$","setTitle","$el","title","data","jQuery","children","first","text","add","mk","addToItems","item","$item","addClass","$action","icon","attr","click","on","e","stopPropagation","preventDefault","call","get","$ctxmenu","hide","appendTo","$body","ctxmenu","apply","this","arguments","fn","items","each","_","trigger","html","clone","css","top","pageY","left","pageX","opacity","show","w","Math","max","document","documentElement","clientWidth","window","innerWidth","h","clientHeight","innerHeight","d","scrollTop","p","position","outerHeight","width","outerWidth","addItem","addItems","argl","length","Error","slice","splice","triggerItem","nth","$ch","filter","eq","triggerHandler","$w"],"mappings":"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","file":"jquery.ctxmenu.min.js","sourcesContent":["/* Context menu plugin | by @DJDavid98 | for gh:ponydevs/MLPVC-RR | utilizes: http://stackoverflow.com/a/30255040/1344955 */\r\n(function($){\r\n\tvar $ctxmenu = $.mk('div').attr('id', 'ctxmenu');\r\n\t$ctxmenu\r\n\t\t.appendTo($body)\r\n\t\t.on('click',function(e){ e.stopPropagation() })\r\n\t\t.on('contextmenu', function(){ $ctxmenu.hide(); return false });\r\n\t$.ctxmenu = {};\r\n\r\n\tfunction setTitle($el, title){\r\n\t\tif (typeof title === 'function')\r\n\t\t\ttitle = title($el);\r\n\t\tif (!($el.data('ctxmenu-items') instanceof jQuery))\r\n\t\t\t$el.data('ctxmenu-items', (new jQuery()).add($.mk('li').text(title || 'Context menu')));\r\n\t\telse if (title) $el.data('ctxmenu-items').children().first().text(title);\r\n\r\n\t\treturn $el;\r\n\t}\r\n\t$.ctxmenu.setTitle = function(){\r\n\t\treturn setTitle.apply(this, arguments);\r\n\t};\r\n\r\n\tfunction addToItems(item, $el){\r\n\t\tif (!item) return;\r\n\r\n\t\tvar $item = $.mk('li');\r\n\t\tif (item === true) $item.addClass('sep');\r\n\t\telse {\r\n\t\t\tvar $action = $.mk('a');\r\n\t\t\tif (item.text) $action.text(item.text);\r\n\t\t\tif (item.icon) $action.addClass('typcn typcn-'+item.icon);\r\n\t\t\tif (item.default === true) $action.addClass('default');\r\n\t\t\tif (typeof item.attr !== 'undefined'){\r\n\t\t\t\tif (typeof item.attr === 'string')\r\n\t\t\t\t\t$action.attr(item.attr, true);\r\n\t\t\t\telse $action.attr(item.attr);\r\n\t\t\t}\r\n\t\t\tif (typeof item.click === 'function')\r\n\t\t\t\t$action.on('click',function(e){\r\n\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\titem.click.call($el.get(0), e);\r\n\t\t\t\t\t$ctxmenu.hide();\r\n\t\t\t\t});\r\n\t\t\t$action.appendTo($item);\r\n\t\t}\r\n\t\t$el.data('ctxmenu-items', $el.data('ctxmenu-items').add($item));\r\n\t}\r\n\t$.fn.ctxmenu = function(items, title){\r\n\t\treturn $(this).each(function(){\r\n\t\t\tvar $el = $(this);\r\n\r\n\t\t\tsetTitle($el, title);\r\n\r\n\t\t\t$.each(items, function(_, item){\r\n\t\t\t\taddToItems(item, $el);\r\n\t\t\t});\r\n\r\n\t\t\t$el.on('contextmenu',function(e){\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\te.stopPropagation();\r\n\r\n\t\t\t\t$el.trigger('mouseleave');\r\n\r\n\t\t\t\t$ctxmenu\r\n\t\t\t\t\t.html($el.data('ctxmenu-items').clone(true, true))\r\n\t\t\t\t\t.css({ top: e.pageY, left: e.pageX, opacity: 0 })\r\n\t\t\t\t\t.show();\r\n\r\n\t\t\t\tvar w = Math.max(document.documentElement.clientWidth, window.innerWidth || 0),\r\n\t\t\t\t\th = Math.max(document.documentElement.clientHeight, window.innerHeight || 0),\r\n\t\t\t\t\td = $(document).scrollTop(),\r\n\t\t\t\t\tp = $ctxmenu.position(),\r\n\t\t\t\t\ttop = (p.top > h + d || p.top > h - d) ? e.pageY-$ctxmenu.outerHeight() : false,\r\n\t\t\t\t\tleft = (p.left < 0 - $ctxmenu.width() || p.left > w) ? e.pageX-$ctxmenu.outerWidth() : false;\r\n\r\n\t\t\t\tif (top !== false) $ctxmenu.css('top', top);\r\n\t\t\t\tif (left !== false) $ctxmenu.css('left', left);\r\n\r\n\t\t\t\t$ctxmenu.css('opacity', 1);\r\n\t\t\t}).addClass('ctxmenu-bound');\r\n\t\t});\r\n\t};\r\n\t$.ctxmenu.addItem =\r\n\t$.ctxmenu.addItems = function($el){\r\n\t\tvar argl = arguments.length;\r\n\t\tif (argl < 2) throw new Error('Invalud number of arguments ('+argl+') for $.ctxmenu.addItems');\r\n\r\n\t\tvar items = [].slice.apply(arguments);\r\n\t\titems.splice(0,1);\r\n\r\n\t\t$el.each(function(){\r\n\t\t\tvar $el = $(this);\r\n\r\n\t\t\tif (typeof $el.data('ctxmenu-items') === 'undefined') return $el.ctxmenu(items);\r\n\r\n\t\t\tsetTitle($el);\r\n\r\n\t\t\t$.each(items,function(_, item){\r\n\t\t\t\taddToItems(item, $el)\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\t$.ctxmenu.triggerItem = function($el, nth){\r\n\t\tvar $ch = $el.data('ctxmenu-items').filter(':not(.sep)');\r\n\t\tif (nth < 1 || $ch.length-1 < nth) throw new Error('There\\'s no such menu option: '+nth);\r\n\t\t$ch.eq(nth).children('a').triggerHandler('click');\r\n\t};\r\n\r\n\t$body.on('click contextmenu',function(){ $ctxmenu.hide() });\r\n\t$w.on('blur resize',function(){ $ctxmenu.hide() });\r\n})(jQuery);\r\n"],"sourceRoot":"/source/"}