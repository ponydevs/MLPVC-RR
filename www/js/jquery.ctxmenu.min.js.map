{"version":3,"sources":["jquery.ctxmenu.js"],"names":["$","setTitle","$el","title","data","jQuery","children","first","text","add","document","createElement","addToItems","item","$item","addClass","$action","icon","click","on","e","stopPropagation","preventDefault","call","get","$ctxmenu","hide","appendTo","attr","body","ctxmenu","apply","this","arguments","fn","items","each","_","html","clone","css","top","pageY","left","pageX","opacity","show","w","Math","max","documentElement","clientWidth","window","innerWidth","h","clientHeight","innerHeight","d","scrollTop","p","position","outerHeight","width","outerWidth","addItem","addItems","argl","length","Error","slice","splice","triggerItem","nth","$ch","eq","triggerHandler"],"mappings":"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","file":"jquery.ctxmenu.min.js","sourcesContent":["/* Context menu plugin | by @DJDavid98 | for gh:ponydevs/MLPVC-RR | utilizes: http://stackoverflow.com/a/30255040/1344955 */\r\n(function($){\r\n\tvar $ctxmenu = $(document.createElement('div')).attr('id', 'ctxmenu');\r\n\t$ctxmenu\r\n\t\t.appendTo(document.body)\r\n\t\t.on('click',function(e){ e.stopPropagation() })\r\n\t\t.on('contextmenu', function(e){ $ctxmenu.hide(); return false });\r\n\t$.ctxmenu = {};\r\n\r\n\tfunction setTitle($el, title){\r\n\t\tif (typeof title === 'function')\r\n\t\t\ttitle = title($el);\r\n\t\tif (!($el.data('ctxmenu-items') instanceof jQuery))\r\n\t\t\t$el.data('ctxmenu-items', (new jQuery()).add($(document.createElement('li')).text(title || 'Context menu')));\r\n\t\telse if (title) $el.data('ctxmenu-items').children().first().text(title);\r\n\r\n\t\treturn $el;\r\n\t}\r\n\t$.ctxmenu.setTitle = function(){\r\n\t\treturn setTitle.apply(this, arguments);\r\n\t};\r\n\r\n\tfunction addToItems(item, $el){\r\n\t\tif (!item) return;\r\n\r\n\t\tvar $item = $(document.createElement('li'));\r\n\t\tif (item === true) $item.addClass('sep');\r\n\t\telse {\r\n\t\t\tvar $action = $(document.createElement('a'));\r\n\t\t\tif (item.text) $action.text(item.text);\r\n\t\t\tif (item.icon) $action.addClass('typcn typcn-'+item.icon);\r\n\t\t\tif (item.default === true) $action.addClass('default');\r\n\t\t\tif (typeof item.click === 'function')\r\n\t\t\t\t$action.on('click',function(e){\r\n\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\titem.click.call($el.get(0), e);\r\n\t\t\t\t\t$ctxmenu.hide();\r\n\t\t\t\t});\r\n\t\t\t$action.appendTo($item);\r\n\t\t}\r\n\t\t$el.data('ctxmenu-items', $el.data('ctxmenu-items').add($item));\r\n\t}\r\n\t$.fn.ctxmenu = function(items, title){\r\n\t\treturn $(this).each(function(){\r\n\t\t\tvar $el = $(this);\r\n\r\n\t\t\tsetTitle($el, title);\r\n\r\n\t\t\t$.each(items, function(_, item){\r\n\t\t\t\taddToItems(item, $el);\r\n\t\t\t});\r\n\r\n\t\t\t$el.on('contextmenu',function(e){\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\te.stopPropagation();\r\n\r\n\t\t\t\t$ctxmenu\r\n\t\t\t\t\t.html($el.data('ctxmenu-items').clone(true, true))\r\n\t\t\t\t\t.css({ top: e.pageY, left: e.pageX, opacity: 0 })\r\n\t\t\t\t\t.show();\r\n\r\n\t\t\t\tvar w = Math.max(document.documentElement.clientWidth, window.innerWidth || 0),\r\n\t\t\t\t\th = Math.max(document.documentElement.clientHeight, window.innerHeight || 0),\r\n\t\t\t\t\td = $(document).scrollTop(),\r\n\t\t\t\t\tp = $ctxmenu.position(),\r\n\t\t\t\t\ttop = (p.top > h + d || p.top > h - d) ? e.pageY-$ctxmenu.outerHeight() : false,\r\n\t\t\t\t\tleft = (p.left < 0 - $ctxmenu.width() || p.left > w) ? e.pageX-$ctxmenu.outerWidth() : false;\r\n\r\n\t\t\t\tif (top !== false) $ctxmenu.css('top', top);\r\n\t\t\t\tif (left !== false) $ctxmenu.css('left', left);\r\n\r\n\t\t\t\t$ctxmenu.css('opacity', 1);\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\t$.ctxmenu.addItem =\r\n\t$.ctxmenu.addItems = function($el){\r\n\t\tvar argl = arguments.length;\r\n\t\tif (argl < 2) throw new Error('Invalud number of arguments ('+argl+') for $.ctxmenu.addItems');\r\n\r\n\t\tvar items = [].slice.apply(arguments);\r\n\t\titems.splice(0,1);\r\n\r\n\t\tif (typeof $el.data('ctxmenu-items') === 'undefined') return $el.ctxmenu(items);\r\n\t\tsetTitle($el);\r\n\r\n\t\t$.each(items,function(_, item){\r\n\t\t\taddToItems(item, $el)\r\n\t\t});\r\n\t};\r\n\t$.ctxmenu.triggerItem = function($el, nth){\r\n\t\tvar $ch = $el.data('ctxmenu-items');\r\n\t\tif (nth < 1 || $ch.length-1 < nth) throw new Error('There\\'s no such menu option: '+nth);\r\n\t\t$ch.eq(nth).children('a').triggerHandler('click');\r\n\t};\r\n\r\n\t$(document.body).on('click contextmenu',function(){ $ctxmenu.hide() });\r\n\t$(window).on('blur resize',function(){ $ctxmenu.hide() });\r\n})(jQuery);\r\n"],"sourceRoot":"/source/"}