!function(e,o){function t(o){return e.mk("div").attr("id",o)}var n={fail:"red",success:"green",wait:"blue",request:"yellow",confirm:"orange",info:"darkblue"},i={fail:"Error",success:"Success",wait:"Sending request",request:"Input required",confirm:"Confirmation",info:"Info"},l={fail:"There was an issue while processing the request.",success:"Whatever you just did, it was completed successfully.",request:"The request did not require any additional info.",confirm:"Are you sure?",info:"No message provided."},a=e("#dialogOverlay"),f=e("#dialogContent"),s=e("#dialogHeader"),u=e("#dialogBox"),d=e("#dialogButtons");e.Dialog={open:f.length,fail:function(o,t,n){e.Dialog.display("fail",o,t,{Close:{action:function(){e.Dialog.close()}}},n)},success:function(t,n,i,l){e.Dialog.display("success",t,n,i===!0?{Close:{action:function(){e.Dialog.close()}}}:o,l)},wait:function(o,t,n){"function"==typeof t&&"undefined"===n&&(n=t),("string"!=typeof t||t.length<2)&&(t="Sending request"),e.Dialog.display("wait",o,t[0].toUpperCase()+t.substring(1)+"&hellip;",n)},request:function(o,t,n,i,l){"function"==typeof i&&"undefined"==typeof l&&(l=i,i="ElkÃ¼ld");var a={};a[i]={submit:!0,form:n},a.Cancel={action:function(){e.Dialog.close()}},e.Dialog.display("request",o,t,a,l)},confirm:function(o,t,n,i){"function"==typeof n&&"undefined"==typeof i&&(i=n),"function"!=typeof i&&(i=new Function),e.isArray(n)||(n=["Eeyup","Nope"]);var l={};l[n[0]]={action:function(){i(!0)}},l[n[1]]={action:function(){i(!1),e.Dialog.close()}},e.Dialog.display("confirm",o,t,l)},info:function(o,t,n){e.Dialog.display("info",o,t,{Close:{action:function(){e.Dialog.close()}}},n)},_storeFocus:function(){if(!("undefined"!=typeof e.Dialog._focusedElement&&e.Dialog._focusedElement instanceof jQuery)){var t=e(":focus");t.length>0?e.Dialog._focusedElement=t.last():e.Dialog._focusedElement=o}},_restoreFocus:function(){"undefined"!=typeof e.Dialog._focusedElement&&e.Dialog._focusedElement instanceof jQuery&&e.Dialog._focusedElement.focus()},_setFocus:function(){var o=e("#dialogContent").find("input,select,textarea").filter(":visible"),t=e("#dialogButtons").children();o.length>0?o.first().focus():t.length>0&&t.first().focus()},display:function(c,r,p,g,y,h){function D(n){var l=t().addClass(y.color);n?(a=e("#dialogOverlay"),u=e("#dialogBox"),s=e("#dialogHeader"),"string"==typeof y.title&&s.text(y.title),f=e("#dialogContent"),d=e("#dialogButtons"),f.children(":not(:last-child)").find("input, select, textarea").attr("disabled",!0),f.append(l.html(y.content)),y.buttons&&(0===d.length&&(d=t("dialogButtons")),d.appendTo(f)),d.empty()):(e.Dialog._storeFocus(),a=t("dialogOverlay"),s=t("dialogHeader").text(y.title||i[c]),f=t("dialogContent"),u=t("dialogBox"),f.append(l.html(y.content)),d=t("dialogButtons").appendTo(f),u.append(s).append(f),a.append(u).appendTo($body),$body.addClass("dialog-open")),s.attr("class",y.color+"-bg");var r=!1;y.buttons&&e.each(y.buttons,function(t,n){var i=e.mk("input").attr("type","button");i.attr("class",y.color+"-bg"),n.form&&(r=e("#"+n.form),1==r.length&&(i.on("click",function(){r.find("input[type=submit]").trigger("click")}),r.prepend(e.mk("input").attr("type","submit").hide()))),i.val(t).on("keydown",function(e){if(-1!==[13,32].indexOf(e.keyCode))e.preventDefault(),i.trigger("click");else if(-1!==[9,37,39].indexOf(e.keyCode)){e.preventDefault();var o=d.children(),t=o.filter(":focus"),n=f.find(":input");37===e.keyCode&&(e.shiftKey=!0),t.length?e.shiftKey?t.prev().length?t.prev().focus():9===e.keyCode&&(n.length>0?n:o).filter(":visible").last().focus():t.next().length?t.next().focus():9===e.keyCode&&n.add(o).filter(":visible").first().focus():n.add(o)[e.shiftKey?"last":"first"]().focus()}}).on("click",function(t){t.preventDefault(),"function"==typeof n.action&&n.action(t),"close"===n.type&&e.Dialog.close("function"==typeof n.callback?n.callback:o)}),d.append(i)}),e.Dialog.center(),e.Dialog._setFocus(),"function"==typeof h&&h(r)}if("string"!=typeof c||"undefined"==typeof n[c])throw new TypeError("Invalid dialog type: "+typeof c);"function"==typeof g&&"undefined"==typeof y&&"undefined"==typeof h?h=g:"object"==typeof g&&"function"==typeof y&&"undefined"==typeof h&&(h=y),"undefined"==typeof y&&(y={}),"undefined"==typeof r?r=i[c]:r===!1&&(r=o),"undefined"==typeof p&&(p=l[c]),y={type:c,title:r,content:p,buttons:g,color:n[c]},e.Dialog.open?D(!0):(e.Dialog.open=y,D())},close:function(o){return"undefined"==typeof e.Dialog.open?"function"==typeof o?o():!1:(e("#dialogOverlay").remove(),e.Dialog.open=void 0,e.Dialog._restoreFocus(),"function"==typeof o&&o(),void $body.removeClass("dialog-open"))},center:function(){if("undefined"!=typeof e.Dialog.open){var o={w:a.width(),h:a.height()},t={w:u.outerWidth(!0),h:u.outerHeight(!0)};u.css("top",Math.max((o.h-t.h)/2,0)),u.css("left",Math.max((o.w-t.w)/2,0))}}},$w.on("resize",e.Dialog.center),$body.on("keydown",function(o){if(9===o.keyCode&&"undefined"!=typeof e.Dialog.open){var t=e(o.target),n=e("#dialogContent").find(":input"),i=t.index("#dialogContent :input");o.shiftKey&&0===i?(o.preventDefault(),e("#dialogButtons").find(":last").focus()):1!==n.filter(":focus").length&&(o.preventDefault(),n.first().focus())}})}(jQuery);
//# sourceMappingURL=dialog.min.js.map
