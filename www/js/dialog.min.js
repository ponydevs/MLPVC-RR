!function(e,t){function n(t){return e(document.createElement("div")).attr("id",t)}var o,i,a,f,l,c=e("html"),s={fail:"red",success:"green",wait:"blue",request:"yellow",confirm:"orange",info:"darkblue"},u={fail:"Error",success:"Success",wait:"Sending request",request:"Input required",confirm:"Confirmation",info:"Info"},d={fail:"There was an issue while processing the request.",success:"Whatever you just did, it was completed successfully.",request:"The request did not require any additional info.",confirm:"Are you sure?",info:"No message provided."},r=e(window);e.Dialog={open:t,fail:function(t,n,o){e.Dialog.display("fail",t,n,{Close:{action:function(){e.Dialog.close()}}},o)},success:function(n,o,i,a){e.Dialog.display("success",n,o,i===!0?{Close:{action:function(){e.Dialog.close()}}}:t,a)},wait:function(t,n,o){"function"==typeof n&&"undefined"===o&&(o=n),("string"!=typeof n||n.length<2)&&(n="Sending request"),e.Dialog.display("wait",t,n[0].toUpperCase()+n.substring(1)+"...",o)},request:function(t,n,o,i,a){"function"==typeof i&&"undefined"==typeof a&&(a=i,i="ElkÃ¼ld");var f={};f[i]={submit:!0,form:o},f.Cancel={action:function(){e.Dialog.close()}},e.Dialog.display("request",t,n,f,a)},confirm:function(t,n,o,i){"function"==typeof o&&"undefined"==typeof i&&(i=o),"function"!=typeof i&&(i=new Function),e.isArray(o)||(o=["Eeyup","Nope"]);var a={};a[o[0]]={action:function(){i(!0)}},a[o[1]]={action:function(){i(!1),e.Dialog.close()}},e.Dialog.display("confirm",t,n,a)},info:function(t,n,o){e.Dialog.display("info",t,n,{Close:{action:function(){e.Dialog.close()}}},o)},display:function(r,p,g,y,h,m){function v(){var n=e(":focus");window._focusedElement=n.length>0?n.last():t;var o=e("#dialogContent").find("input,select,textarea").filter(":visible"),i=e("#dialogButtons").children();o.length>0?o.first().focus():i.length>0&&i.first().focus()}function w(s){var d=n().addClass(h.color);s?(o=e("#dialogOverlay"),f=e("#dialogBox"),a=e("#dialogHeader"),"string"==typeof h.title&&a.text(h.title),i=e("#dialogContent"),l=e("#dialogButtons"),i.children(":not(:last-child)").find("input, select, textarea").attr("disabled",!0),i.append(d.html(h.content)),h.buttons&&(0===l.length&&(l=n("dialogButtons")),l.appendTo(i)),l.empty()):(o=n("dialogOverlay"),a=n("dialogHeader").text(h.title||u[r]),i=n("dialogContent"),f=n("dialogBox"),i.append(d.html(h.content)),f.append(a).append(i),l=n("dialogButtons").appendTo(i),o.css("opacity",0).appendTo(document.body),f.appendTo(o),o.css("opacity",1),v(),c.addClass("dialog-open")),a.attr("class",h.color+"-bg"),h.buttons&&e.each(h.buttons,function(n,o){var a=e(document.createElement("input")).attr("type","button");if(a.attr("class",h.color+"-bg"),o.form){var f=e("#"+o.form);1==f.length&&(a.click(function(){f.find("input[type=submit]").trigger("click")}),f.prepend(e(document.createElement("input")).attr("type","submit").hide()))}a.val(n).on("keydown",function(e){if(-1!==[13,32].indexOf(e.keyCode))e.preventDefault(),a.trigger("click");else if(9===e.keyCode){e.preventDefault();var t=l.children(),n=t.filter(":focus"),o=i.find(":input");n.length?e.shiftKey?n.prev().length?n.prev().focus():(o.length>0?o:t).last().focus():n.next().length?n.next().focus():o.add(t).first().focus():o.add(t)[e.shiftKey?"last":"first"]().focus()}}).on("click",function(n){n.preventDefault(),"function"==typeof o.action&&o.action(n),"close"===o.type&&e.Dialog.close("function"==typeof o.callback?o.callback:t)}),l.append(a)}),e.Dialog.center(),v(),"function"==typeof m&&m()}if("string"!=typeof r||"undefined"==typeof s[r])throw new TypeError("Invalid dialog type: "+typeof r);"function"==typeof y&&"undefined"==typeof h&&"undefined"==typeof m?m=y:"object"==typeof y&&"function"==typeof h&&"undefined"==typeof m&&(m=h),"undefined"==typeof h&&(h={}),"undefined"==typeof p?p=u[r]:p===!1&&(p=t),"undefined"==typeof g&&(g=d[r]),h={type:r,title:p,content:g,buttons:y,color:s[r]},"undefined"==typeof e.Dialog.open?(e.Dialog.open=h,w()):w(!!e.Dialog.open)},close:function(t){return"undefined"==typeof e.Dialog.open?"function"==typeof t?t():!1:(o.remove(),e.Dialog.open=void 0,window._focusedElement instanceof jQuery&&window._focusedElement.focus(),"function"==typeof t&&t(),void c.removeClass("dialog-open"))},center:function(){var e={w:o.width(),h:o.height()},t={w:f.outerWidth(),h:f.outerHeight()};f.css("top",Math.max((e.h-t.h)/2,0)),f.css("left",Math.max((e.w-t.w)/2,0))}},r.on("resize",function(){"undefined"!=typeof e.Dialog.open}).on("ajaxerror",function(){e.Dialog.fail(!1,"There was an error while processing your request. You may find additional details in the browser's console.")}),e(document.body).on("keydown",function(t){if(9===t.keyCode&&"undefined"!=typeof e.Dialog.open){var n=e(t.target),o=e("#dialogContent").find(":input"),i=n.index("#dialogContent :input");t.shiftKey&&0===i?(t.preventDefault(),e("#dialogButtons").find(":last").focus()):1!==o.filter(":focus").length&&(t.preventDefault(),o.first().focus())}})}(jQuery);
//# sourceMappingURL=dialog.min.js.map