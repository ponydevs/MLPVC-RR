"use strict";DocReady.push(function(){Chart.defaults.global.responsive=!0,Chart.defaults.global.maintainAspectRatio=!1,Chart.defaults.global.animation=!1;var t=$("#stats"),e=function(t){var e=t.r+","+t.g+","+t.b,a="rgb("+e+")";return{lineTension:0,backgroundColor:"rgba("+e+",0.2)",borderColor:a,borderWidth:2,pointBackgroundColor:a,pointRadius:3,pointHitRadius:6,pointBorderColor:"#fff",pointBorderWidth:2,pointHoverBackgroundColor:"#fff",pointHoverBorderColor:a}},a={position:"bottom",labels:{boxWidth:12}},o=[{type:"time",time:{unit:"day",unitStepSize:1,displayFormats:{day:"Do MMM"}},ticks:{autoSkip:!0,maxTicksLimit:15}}],i=[{type:"linear",ticks:{autoSkip:!0,maxTicksLimit:6}}],r="Do MMMM, YYYY",n=t.children(".stats-posts"),s=n.children("h3"),d=n.children(".legend"),l=n.find("canvas").get(0).getContext("2d"),p=void 0,m=["#46ACD3","#5240C3"];$.post("/about/stats-posts",$.mkAjaxHandler(function(){if(!this.status)return n.remove();var t=this.data;if($.mk("p").append("Last updated: ",$.mk("time").attr("datetime",t.timestamp)).insertAfter(s),Time.Update(),0===t.datasets.length)return d.html("<strong>No data available</strong>");d.remove(),$.each(t.datasets,function(a,o){var i=$.hex2rgb(m[o.clrkey]);$.extend(t.datasets[a],e(i))});var c=function(){p=new Chart.Line(l,{data:t,options:{tooltips:{mode:"label",callbacks:{title:function(t){return moment(t[0].xLabel).format(r)}}},legend:a,scales:{xAxes:o,yAxes:i}}})};c(),$w.on("resize",function(){p.resize()})}));var c=t.children(".stats-approvals"),u=c.children("h3"),f=c.children(".legend"),h=c.find("canvas").get(0).getContext("2d"),b=void 0,v=$.hex2rgb("#4DC742");$.post("/about/stats-approvals",$.mkAjaxHandler(function(){if(!this.status)return c.remove();var t=this.data,n=v;if($.mk("p").append("Last updated: ",$.mk("time").attr("datetime",t.timestamp)).insertAfter(u),Time.Update(),0===t.datasets.length)return f.html("<strong>No data available</strong>");f.remove(),$.extend(t.datasets[0],e(n));var s=function(){b=new Chart.Line(h,{data:t,options:{tooltips:{mode:"label",callbacks:{title:function(t){return moment(t[0].xLabel).format(r)},label:function(t){var e=parseInt(t.yLabel,10);return(0===e?"No":e)+" post"+(1!==e?"s":"")+" approved"}}},legend:a,scales:{xAxes:o,yAxes:i}}})};s(),$w.on("resize",function(){b.resize()})}))},function(){delete window.Chart,$("script").filter('[src^="/js/Chart.min.js"], [data-src^="/js/Chart.min.js"]').remove()});
//# sourceMappingURL=/js/about.min.js.map
