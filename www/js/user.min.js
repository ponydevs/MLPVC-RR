$(function(){var o=$("#signout");$(".session-list").find("button.remove").on("click",function(e){e.preventDefault();var i="Sign out session",n=$(this),t=n.closest("li");if(0===t.index())return o.trigger("click");var s=n.parent().text().trim(),a=parseInt(n.attr("data-sid"));return"undefined"==typeof a||isNaN(a)?$.Dialog.fail(i,"Could not locate Session ID, please reload the page and try again."):void $.Dialog.confirm(i,"This will invalidate the active session in the following browser: <em>"+s+"</em><br>Are you sure?",function(o){o&&($.Dialog.wait(i,"Signing out from "+s),$.ajax({method:"POST",url:"/user/sessiondel/"+a,success:function(o){return"object"!=typeof o?console.log(o)&&$w.trigger("ajaxerror"):void(o.status?(t.remove(),$.Dialog.close()):$.Dialog.fail(i,o.message))}}))})}),$("#signout-everywhere").on("click",function(){var o="Sign out from ALL sessions";$.Dialog.confirm(o,"This will invalidate ALL sessions.<br>Continue?",function(e){e&&($.Dialog.wait(o,"Signing out"),$.ajax({method:"POST",url:"/signout?everywhere",success:function(e){return"object"!=typeof e?console.log(e)&&$w.trigger("ajaxerror"):void(e.status?($.Dialog.success(o,e.message),setTimeout(function(){window.location.reload()},1e3)):$.Dialog.fail(o,e.message))}}))})}),$("#unlink").on("click",function(){var o="Unlink account & sign out";$.Dialog.confirm(o,"Are you sure you want to unlink your account?",function(e){e&&($.Dialog.wait(o,"Removing account link"),$.ajax({method:"POST",url:"/signout?unlink",success:function(e){return"object"!=typeof e?console.log(e)&&$w.trigger("ajaxerror"):void(e.status?($.Dialog.success(o,e.message),setTimeout(function(){window.location.reload()},1e3)):$.Dialog.fail(o,e.message))}}))})})});