DocReady.push(function(){"use strict";function e(e,r,t){return(r-(1-t)*e)/t}function r(r,t,a){return{r:e(r.r,t.r,a),g:e(r.g,t.g,a),b:e(r.b,t.b,a),a:a}}function t(e){e.stopPropagation();var t=c.filter(":valid");if(4!==t.length)return a(!1);var n={};if(t.each(function(e,r){n[r.name]=r.value.toUpperCase()}),n.bg1===n.bg2)return a(!1);$.each(n,function(e,r){n[e]=$.hex2rgb(r)});for(var o=1020,i=null,l=1;255>=l;l++){var s=r(n.bg1,n.blend1,l/255),u=r(n.bg2,n.blend2,l/255),d=Math.abs(s.r-u.r)+Math.abs(s.g-u.g)+Math.abs(s.b-u.b);o>d&&(o=d,i=s)}return null===i?a(!1):(b[o>10?"show":"hide"](),void a({r:Math.round(i.r),g:Math.round(i.g),b:Math.round(i.b),a:i.a}))}function a(e){var r="",t="",a="";if(e){r=$.rgb2hex(e),l.css("background-color",r),r='#<code class="color-red">'+r.substring(1,3)+'</code><code class="color-green">'+r.substring(3,5)+'</code><code class="color-darkblue">'+r.substring(5,7)+"</code>",t=r+"<code>"+Math.round(255*e.a).toString(16).toUpperCase()+"</code>";var n=$.roundTo(e.a,2);e='rgba(<code class="color-red">'+e.r+'</code>, <code class="color-green">'+e.g+'</code>, <code class="color-darkblue">'+e.b+"</code>, "+n+")</span>",a=100*n+"% opacity"}else e="",l.removeAttr("style");g.text(a),u.html(t),s.html(r),d.html(e)}var n=$("#blend-wrap"),o=n.children("form"),c=o.find("input:visible"),i=n.children(".result"),l=i.children(".preview"),s=i.children(".hex"),u=i.children(".hexa"),d=i.children(".rgba"),g=i.children(".opacity"),b=$(".delta-warn");c.on("keyup change input",function(){var e=$(this),r=e.prev(),t=HEX_COLOR_PATTERN.test(this.value);t?r.removeClass("invalid").css("background-color",this.value.toUpperCase().replace(HEX_COLOR_PATTERN,"#$1")):r.addClass("invalid"),o.triggerHandler("submit")}).on("paste blur",function(e){var r=this,t=$(r),a=/^#?([A-Fa-f0-9]{3})$/,n=function(){var n=r.value;if(a.test(n)){var o=n.match(a)[1];n="#"+o[0]+o[0]+o[1]+o[1]+o[2]+o[2]}HEX_COLOR_PATTERN.test(n)&&(t.val(n.replace(HEX_COLOR_PATTERN,"#$1").toUpperCase()).trigger("change"),"blur"!==e.type&&t.next().focus())};"paste"===e.type?setTimeout(n,10):n()}).trigger("change"),o.on("submit",t).triggerHandler("submit"),o.on("click","td",function(e){if(!e.shiftKey)return!0;var r=$(this).find(".clri");if(0===r.length)return!0;e.preventDefault();var t=r.val(),a=$.mk("div").attr("class","preview").css("background-color",t),n=$.hex2rgb(t),o=$.mk("div").attr("class","inputs").html("<input type='number' class='color-red' name='r' min='0' max='255' step='1' value='"+n.r+"'><input type='number' class='color-green' name='g' min='0' max='255' step='1' value='"+n.g+"'><input type='number' class='color-darkblue' name='b' min='0' max='255' step='1' value='"+n.b+"'>");o.children().on("keyup change input mouseup",function(){var e=$(this).closest("form");e.children(".preview").css("background-color",$.rgb2hex(e.mkData()))});var c=$.mk("form").attr("id","rgbform").append(o,a);$.Dialog.setFocusedElement(r),$.Dialog.request("Enter RGB values",c,"rgbform","Set",function(e){e.on("submit",function(t){t.preventDefault(),r.val($.rgb2hex(e.mkData())).trigger("change"),$.Dialog.close()})})})});
//# sourceMappingURL=blending.min.js.map
