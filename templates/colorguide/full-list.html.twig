{# @controller \App\Controllers\ColorGuideController::fullList #}
{# @var is_staff bool #}
{# @var eqg bool #}
{# @var guide_order bool #}
{# @var appearances \App\Models\Appearance[] #}
{# @var max_upload_size string #}
{# @var hex_color_pattern \App\RegExp #}
{# @var full_list string #}
{% extends 'layout/base.html.twig' %}

{% block content %}
{% set eqg_path = eqg ? '/eqg' : '' %}
<div id="content" class="section-container">
	<h1>Complete {{ eqg ? 'EQG Character' : 'Pony' }} List</h1>
	<p>Sorted <select id="sort-by" data-baseurl="/cg{{ eqg_path }}/full">
		<option value='alphabetically'{{ guide_order ? '' : ' selected' }}>alphabetically</option>
		<option value=''{{ guide_order ? ' selected' : '' }}>by relevance</option>
	</select></p>

	<div class='align-center button-block'>
		<a class='btn link typcn typcn-arrow-back' href="/cg{{ eqg_path }}">Back to {{ eqg ? 'EQG ' : '' }}Color Guide</a>
<?php if (Permission::sufficient('staff')){ ?>
		<button class='darkblue typcn typcn-arrow-unsorted' id="guide-reorder"{{ not guide_order ? ' disabled' : '' }}>Re-order</button>
		<button class='red typcn typcn-times hidden' id="guide-reorder-cancel">Cancel</button>
<?php } ?>
		<a class='btn link typcn typcn-world' href="/cg{{ eqg ? '' : '/eqg' }}/full">List of {{ eqg ? 'Ponies' : 'Equestria Girls' }}</a>
		<a class='btn link typcn typcn-tags' href="/cg/tags">Tags</a>
		<a class='btn link typcn typcn-warning' href="/cg/changes">Major Changes</a>
	</div>

	{{ full_list }}
</div>

{{ export_vars({ 'EQG': eqg }) }}
{% if is_staff %}
	{{ export_vars({
		'TAG_TYPES_ASSOC': constant('App\\Tags::TAG_TYPES'),
		'MAX_SIZE': max_upload_size,
		'HEX_COLOR_PATTERN': hex_color_pattern,
	}) }}
{% endif %}
{% endblock %}
