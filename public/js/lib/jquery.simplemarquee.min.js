"use strict";!function(n){var e=["-webkit-","-moz-","-o-",""],o=["webkit","moz","MS","o",""];function r(e,t){this._element=n(e),this._options=n.extend({speed:30,direction:"left",cycles:1,space:40,delayBetweenCycles:2e3,handleHover:!0,handleResize:!0},t),this._resizeDelay=parseInt(this._options.handleResize,10)||300,this._horizontal="left"===this._options.direction||"right"===this._options.direction,this._animationName="simplemarquee-"+Math.round(1e13*Math.random()).toString(18),this._onResize=this._onResize.bind(this),this._onCycle=this._onCycle.bind(this),this._options.handleResize&&n(window).on("resize",this._onResize),this._options.handleHover&&this._element.on({"mouseenter.simplemarquee":this._onMouseEnter.bind(this),"mouseleave.simplemarquee":this._onMouseLeave.bind(this)}),this._element.on("destroy.simplemarquee",this.destroy.bind(this)),this.update(!0)}r.prototype.update=function(e){return this._reset(),this._setup(),this._needsAnimation?e?(this._paused=!1,this._cycles=-1,this._onCycle()):this._paused&&this._pause():(this._paused=!1,this._cycles=0),this},r.prototype.pause=function(){return this._needsAnimation&&(this._resetCycle(),this._paused||(this._pause(),this._element.triggerHandler("pause"),this._paused=!0)),this},r.prototype.resume=function(){return this._needsAnimation&&(this._resetCycle(),this._paused&&(this._resume(),this._element.triggerHandler("resume"),this._paused=!1)),this},r.prototype.toggle=function(){return this._paused?this.resume():this.pause(),this},r.prototype.destroy=function(){this._reset(),this._resizeTimeout&&clearTimeout(this._resizeTimeout),n(window).off("resize",this._onResize),this._element.off(".simplemarquee"),this._element.removeData("_simplemarquee"),this._element=null},r.prototype._reset=function(){this._element.removeClass("has-enough-space").css({"word-wrap":"","overflow-wrap":"","white-space":"",overflow:""}),this._wrappers&&(this._contents.closest(this._element).length&&this._element.append(this._contents),this._wrappers.remove(),this._element.children("style").remove()),this._contents=this._wrappers=this._size=null,this._needsAnimation=!1,this._resetCycle()},r.prototype._setup=function(){var e=void 0;this._horizontal?(this._element.css({"word-wrap":"normal","overflow-wrap":"normal","white-space":"nowrap",overflow:"hidden"}),this._needsAnimation=this._element[0].scrollWidth>Math.ceil(this._element.outerWidth())):(this._element.css({"word-wrap":"break-word","overflow-wrap":"break-word","white-space":"normal",overflow:"hidden"}),this._needsAnimation=this._element[0].scrollHeight>Math.ceil(this._element.outerHeight())),this._element.toggleClass("has-enough-space",!this._needsAnimation),this._needsAnimation&&(this._contents=this._element.contents(),(e=n('<div class="simplemarquee-wrapper"></div>')).append(this._contents),this._element.append(e),(e=n('<div class="simplemarquee-wrapper"></div>')).append(this._contents.clone()),this._element.append(e),this._wrappers=this._element.children(),this._horizontal?(this._wrappers.css("display","inline-block"),this._wrappers.eq(1).css("margin-left",this._options.space),this._size=this._wrappers.eq(0).outerWidth()+this._options.space):(this._wrappers.eq(1).css("margin-top",this._options.space),this._size=this._wrappers.eq(0).outerHeight()+this._options.space),this._setupAnimation())},r.prototype._setupAnimation=function(){var t,s,i,n=void 0;n="<style>\n",e.forEach(function(e){switch(n+="@"+e+"keyframes "+this._animationName+" {\n",this._options.direction){case"left":n+="    0%   { "+e+"transform: translate(0, 0); } \n",n+="    100% { "+e+"transform: translate(-"+this._size+"px, 0); }\n";break;case"right":n+="    0%   { "+e+"transform: translate(-"+this._size+"px, 0); }\n",n+="    100% { "+e+"transform: translate(0, 0); } \n";break;case"top":n+="    0%   { "+e+"transform: translate(0, 0); } \n",n+="    100% { "+e+"transform: translate(0, -"+this._size+"px); }\n";break;case"bottom":n+="    0%   { "+e+"transform: translate(0, -"+this._size+"px); }\n",n+="    100% { "+e+"transform: translate(0, 0); } \n";break;default:throw new Error("Invalid direction: "+this._options.direction)}n+="}\n"},this),n+="</style>\n",this._element.append(n),this._wrappers.css("animation",this._animationName+" "+this._size/this._options.speed+"s linear infinite"),t=this._wrappers.eq(0),s="AnimationIteration",i=this._onCycle,o.forEach(function(e){e||(s=s.toLowerCase()),t.on(e+s,i)})},r.prototype._pause=function(){this._wrappers.css("animation-play-state","paused")},r.prototype._resume=function(){this._wrappers.css("animation-play-state","")},r.prototype._resetCycle=function(){this._cycleTimeout&&(clearTimeout(this._cycleTimeout),this._cycleTimeout=null)},r.prototype._onCycle=function(){this._resetCycle(),this._cycles+=1,this._cycles>=this._options.cycles?(this.pause(),this._element.triggerHandler("finish")):(this._pause(),this._element.triggerHandler("cycle"),this._cycleTimeout=setTimeout(function(){this._cycleTimeout=null,this._resume()}.bind(this),this._options.delayBetweenCycles))},r.prototype._onMouseEnter=function(){this._paused?(this._cycles=0,this.resume()):this.pause()},r.prototype._onMouseLeave=function(){this.resume()},r.prototype._onResize=function(){this._resizeTimeout&&clearTimeout(this._resizeTimeout),this._resizeTimeout=setTimeout(function(){this._resizeTimeout=null,this.update()}.bind(this),this._resizeDelay)},n.fn.simplemarquee=function(i){return this.each(function(e,t){var s=void 0;if(s=(t=n(t)).data("_simplemarquee"),"string"==typeof i){if(!s)return;s[i](arguments[1])}else s?s.update(!0):(s=new r(t,i),t.data("_simplemarquee",s))}),this},n.fn.simplemarquee.Constructor=r}(window.jQuery);